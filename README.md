# java-convenience-store-precourse
## 요구사항 체크리스트
- 구매자의 할인 혜택 고려
- 재고 상황 고려
- 최종 결제 금액 계산 후 안내
결제 시스템 구현

### 기능 요구 사항
- [ ] 사용자가 입력한 상품의 가겨과 수량 기반으로 최종 결제 금액 계산
  - 총 구매액은 상품별 가격과 수량을 곱하여 계산
  - 프로모션 및 멤버십 할인 정책을 반영하여 최종 결제 금액 산출

- [ ] 구매 내역과 산출한 금액 정보를 영수증 출력
- [ ] 영수증 출력 후 추가 구매 진행여부 선택
- [ ] 사용자 입력 오류 -> 에러 발생  -> 재입력

--- 

재고 관리
- [ ] 상품 재고 수량 고려하여 결제 가능 여부 확인
- [ ] 결제된 수량만큼 해당 상품 재고 차감하여 수량 관리
- [ ] 재고 차감으로 최신 상태 유지, 다음 고객이 구매할 때 정확한 재고 정보 제공

---

프로모션 할인
- 오늘 날짜가 프로모션 기간 내에 포함된 경우에만 할인 적용
- N개 구매 시 1개 무료 증정 형태로 진행
- 1+1 또는 2+1 프로모션이 상품에 적용되고 여러 프로모션 불가능
- 프로모션 재고 내에서만 적용 가능 !!
- 프로모션 기간중이면 프로모션 재고 우선적으로 차감, -> 일반 재고
- 프로모션 적용가능 상품에 대해 해당 수량보다 적게 가져올때, 필요한 수량을 추가로 더 가져오면 혜택 안내
- 프로모션 재고가 부족하여 일부 수량을 정가로 결제하게 될 때, 정가로 결제하게 됨을 안내

---

멤버십 할인
- 멤버십 회원은 프로모션 미적용 금액의 30% 할인
- 프로모션 적용 후 남은 금액에 대해 멤버십 할인 적용
- 최대 한도 8,000원

---

영수증 출력
- 고객의 구매 내역과 할인을 요약
- 항목
  - 구매 상품 내역: 상품명, 수량, 가격
  - 증정 상품: 프로모션에 따라 무료로 제공된 증정 상품 목록
  - 금액 정보
    - 총 구매액: 구매한 상품의 총 수량과 총 금액
    - 행사 할인: 프로모션에 의해 할인된 금액
    - 멤버십 할인: 멤버십 할인: 멤버십에 의해 추가로 할인된 금액
    - 최종 결제 금액:

---

### 예외 요구 사항
- [ ] 구매할 상품과 수량 형식이 올바르지 않은 경우
    - "[ERROR] 올바르지 않은 형식으로 입력했습니다. 다시 입력해 주세요."
- [ ] 존재하지 않는 상품 일겨
    - "[ERROR] 존재하지 않는 상품입니다. 다시 입력해주세요."
- [ ] 구매 수량이 재고 수량을 초과한 경우
    - "[ERROR] 재고 수량을 초과하여 구매할 수 없습니다. 다시 입력해 주세요."
- [ ] 기타 잘못된 입력의 경우
    - "[ERROR] 잘못된 입력입니다. 다시 입력해주세요." 
    - 
### ApplicationTest 요구사항 체크 리스트
- [ ] 상품 목록 출력
- [ ] 여러_개의_일반_상품_구매
- [ ] 기간에_해당하지_않는_프로모션_적용
- [ ] 예외_테스트

---

## 집중 포인트(Focus Points)
- 도메인 분리: 입력/출력(View) ↔ 게임 규칙/상태(Domain) ↔ 흐름(Controller/Service)
- 검증 책임:
- 상태 캡슐화:

---

## 기능 목록
## [F-01] 재고 상품 초기화 기능
- 기능 설명: 상품 목록과 행사 목록을 파일 입출력을 통해 불러온 뒤 초기화 한다.
- 도메인 규칙
  - 상품
    - 이름
    - 가격
    - 수량
    - 프로모션
  - 프로모션
    - 상품 이름
    - 구매 수량
    - 혜택 수량
    - 시작 날짜
    - 종료 날짜
- 예외 케이스
  - 
- 테스트 케이스
    - [ ] 

### [F-02] 상품명과 수량 입력 및 검증 기능
- 기능 설명: `[<상품명>-<수량>],[<상품명>-<수량>]` 형식으로 입력 받는다.
- 도메인 규칙
  - 형식 검증
  - 상품 존재 여부
  - 재고 수량 초과 여부
  - 기타 잘못 입력
- 예외 케이스
  - [x] 구매할 상품과 수량 형식이 올바르지 않은 경우
      - "[ERROR] 올바르지 않은 형식으로 입력했습니다. 다시 입력해 주세요."
  - [x] 존재하지 않는 상품일 경우
      - "[ERROR] 존재하지 않는 상품입니다. 다시 입력해주세요."
  - [x] 구매 수량이 재고 수량을 초과한 경우
      - "[ERROR] 재고 수량을 초과하여 구매할 수 없습니다. 다시 입력해 주세요."
  - [x] 기타 잘못된 입력의 경우
      - "[ERROR] 잘못된 입력입니다. 다시 입력해주세요."
- 테스트 케이스
- [ ] 

### [F-03] 상품 재고 출력 기능 구현
- 기능 설명: 상품 이름, 가격, 수량, 프로모션 여부 없으면 빈칸 형식으로 상품 별로 출력한다.
- 도메인 규칙
  - 수량이 0이면 재고 없음으로 출력한다.
- 예외 케이스
  - 
- 테스트 케이스
- [ ] 

### [F-04] 프로모션 적용 가능 상품에 대해 해당 수량보다 적게 가져온 경우 추가 여부 기능
- 기능 설명: 프로모션이 적용 가능인데 해당 구매 수량보다 적게 가져올 경우 추가 여부 구매 여부를 물어보고 `Y`이면 상품 변화 
- 도메인 규칙
  - Y이면 Order에 해당 상품 추가
- 예외 케이스
  - 
- 테스트 케이스
- [ ] 

### [F-05] 프로모션 재고 부족으로 일부 수량을 프로모션 혜택 없이 결제 기능
- 기능 설명: 프로모션 재고가 부족하여 일부 수량을 정가로 결제해야할때, 여부를 물어보고 `Y`이면 그대로 진행, `N`이면 정가 구매 수량 제외하고 결제
- 도메인 규칙

- 예외 케이스
  - 
- 테스트 케이스
    - [ ] 

### [F-06] 멤버십 할인 기능
- 기능 설명: 멤버십 할인 적용 기능
- 도메인 규칙
  - 멤버십 회원은 프로모션 미적용 금액의 30% 할인
  - 프로모션 적용 후 남은 금액에 대해 멤버십 할인 적용
  - 최대 한도 8,000원
- 예외 케이스
  - 
- 테스트 케이스
    - [ ] 

### [F-07] 영수증 생성 기능 
- 기능 설명:
- 도메인 규칙
  - 구매 상품 내역: 상품명, 수량, 가격
  - 증정 상품: 프로모션에 따라 무료로 제공된 증정 상품 목록
  - 금액 정보
    - 총 구매액: 구매한 상품의 총 수량과 총 금액
    - 행사 할인: 프로모션에 의해 할인된 금액
    - 멤버십 할인: 멤버십 할인: 멤버십에 의해 추가로 할인된 금액
    - 최종 결제 금액:
- 예외 케이스
  - 
- 테스트 케이스
    - [ ]

---

## TODO: 추가 개발 개선 사항
### 설계/품질
- [ ] 예외 메시지(Error Message) 표준화 (상수/Enum)
